<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <title>Beziehungen</title>

  <meta name="author" content="JÃ¶rg Roth">
  <meta name="description" content="Beziehungen">

  <style> body { margin: 0; } </style>
  <script src="//unpkg.com/three"></script>
  <script src="//unpkg.com/3d-force-graph"></script>

  <meta property="og:site_name" content="angst-frei.ch">
  <meta property="og:title" content="angst-frei.ch">
  <meta property="og:description" content="Beziehungen">
  <meta property="og:image" content="https:///www.angst-frei.ch/assets/img/sun.png">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https:///www.angst-frei.ch/network/person.html">

  <link rel="canonical" href="https://www.angst-frei.ch/network/person.html">

  <meta name="twitter:card" content="summary">
  <meta name="twitter:site" content="@">
  <meta name="twitter:creator" content="@">
  <meta property="twitter:title" content="angst-frei.ch">
  <meta property="twitter:description" content="Beziehungen">
  <meta name="twitter:image" content="https://www.angst-frei.ch/assets/img/sun.png">

</head>

<body>
  <div id="3d-graph"></div>

  <script type="module">

    const Graph = ForceGraph3D()
      (document.getElementById('3d-graph'))
      .nodeThreeObject(node => {
        const imgTexture = new THREE.TextureLoader().load(`${node.image}`);
        const material = new THREE.SpriteMaterial({ map: imgTexture });
        const sprite = new THREE.Sprite(material);
        sprite.scale.set(12, 12);
        return sprite;
      })
      .jsonUrl('/json/network-person-data.json')
      .nodeLabel('title')
      .nodeAutoColorBy('group')
      .linkLabel('title')
      .linkWidth(1)
      .linkOpacity(0.5)
      .linkAutoColorBy('group')
      .onNodeClick(node => {
        // Aim at node from outside it
        const distance = 40;
        const distRatio = 1 + distance/Math.hypot(node.x, node.y, node.z);

        Graph.cameraPosition(
          { x: node.x * distRatio, y: node.y * distRatio, z: node.z * distRatio }, // new position
          node, // lookAt ({ x, y, z })
          3000  // ms transition duration
        );
      })
      .onNodeDragEnd(node => {
        node.fx = node.x;
        node.fy = node.y;
        node.fz = node.z;
      });
  </script>
<body>
